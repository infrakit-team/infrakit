---
import { getCollection, render } from "astro:content";
import DocsLayout from "../../layouts/DocsLayout.astro";

export async function getStaticPaths() {
	const docs = await getCollection("docs");
	return docs.map((doc) => ({
		params: { slug: doc.id.replace(/\.mdx?$/, "") },
		props: { doc },
	}));
}

const { doc } = Astro.props;
const { Content, headings } = await render(doc);
---

<DocsLayout title={doc.data.title} headings={headings} markdown={doc.body}>
	<Content />
</DocsLayout>
